
<!DOCTYPE html>
<!--
 Generated by Apache Maven Doxia at 2024-04-15
 Rendered using Reflow Maven Skin 1.1.0 (https://github.com/wcm-io/wcm-io-tooling/tree/develop/maven/skins/reflow-maven-skin)
-->
<html  xml:lang="en" lang="en">

  <head>
    <meta charset="UTF-8" />
    <title>CONGA - General concepts | CONGA</title>

    <link rel="shortcut icon" href="https://wcm.io/images/favicon.ico">
    <link rel="apple-touch-icon" href="https://wcm.io/images/favicon-152.png">

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="wcm.io DevOps - Tools for Configuration Management and Deployment" />
    <meta http-equiv="content-language" content="en" />

    <link href="https://devops.wcm.io/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://devops.wcm.io/css/docs.css" rel="stylesheet" />
    <link href="https://devops.wcm.io/css/reflow-skin.css" rel="stylesheet" />
    <link href="https://devops.wcm.io/css/highlightjs-style-github.min.css" rel="stylesheet" />

    <link href="https://devops.wcm.io/css/lightbox.css" rel="stylesheet" />

    <link href="https://devops.wcm.io/css/site.css" rel="stylesheet" />
    <link href="https://devops.wcm.io/css/print.css" rel="stylesheet" media="print" />


  </head>

  <body class="page-general-concepts project-io.wcm.devops.conga.root" data-spy="scroll" data-offset="60" data-target="#toc-scroll-target">

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse" data-target="#top-nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="..">wcm.io DevOps</a>
          <div class="nav-collapse collapse" id="top-nav-collapse">
            <ul class="nav pull-right">
              <li ><a href="http://github.com/wcm-io-devops" title="GitHub project" class="externalLink">GitHub project</a></li>
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Categories <b class="caret"></b></a>
                <ul class="dropdown-menu">
                  <li ><a href="./" title="CONGA - CONfiguration GenerAtor">CONGA - CONfiguration GenerAtor</a></li>
                </ul>
              </li>
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Contribute <b class="caret"></b></a>
                <ul class="dropdown-menu">
                  <li ><a href="https://wcm.io/contribute.html" title="Contribute" class="externalLink">Contribute</a></li>
                  <li ><a href="https://github.com/wcm-io-devops" title="Issues" class="externalLink">Issues</a></li>
                  <li ><a href="https://wcm-io.atlassian.net/wiki/" title="Wiki" class="externalLink">Wiki</a></li>
                  <li ><a href="https://wcm.io/mailing-lists.html" title="Mailing Lists" class="externalLink">Mailing Lists</a></li>
                  <li ><a href="http://github.com/wcm-io-devops" title="Fork on GitHub" class="externalLink">Fork on GitHub</a></li>
                </ul>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>

  <div class="container">

  <!-- Masthead
  ================================================== -->

  <header>
  <div class="jumbotron subhead">
    <div class="row" id="banner">
      <div class="span12">
        <div class="pull-left">
          <a href="../" id="bannerLeft"><h1><img src="https://wcm.io/images/favicon-16@3x.png"/> wcm.io DevOps</h1></a>
          <p class="lead">Tools for Configuration Management and Deployment</p>
        </div>
        <div class="pull-right">
          <div id="bannerRight"><h1><img src="https://devops.wcm.io/conga/images/conga.png" style="height:120px"/></h1></div>
        </div>
      </div>
    </div>
  </div>
    <div>
      <ul class="breadcrumb">
        <li><a href="../" title="wcm.io DevOps">wcm.io DevOps</a></li>
        <li class="divider">/</li>
        <li><a href="index.html" title="CONGA">CONGA</a></li>
        <li class="divider">/</li>
        <li>CONGA - General concepts</li>
      </ul>
    </div>
  </header>

  <div class="main-body">
  <div class="row">
    <div class="span8">
      <div class="body-content">
<section> 
 <div class="page-header">
  <h2 id="CONGA_-_General_concepts">CONGA - General concepts</h2>
 </div> 
 <section> 
  <h3 id="Targets_System_Configuration">Targets System Configuration</h3> 
  <p>The configuration generator focuses on <b>system configuration</b> that is usually defined at deployment time and is static at runtime. It is not targeted to “runtime configuration” like site configuration, tenant configuration that can be changed at any time by authorized users.</p> 
  <p>This tool is <b>not a deployment automation tool</b>. It focuses only on configuration generation and can be integrated in a manual or automated deployment process.</p> 
 </section> 
 <section> 
  <h3 id="Supported_Systems">Supported Systems</h3> 
  <p>The Tool is <b>not limited to a specific type of application</b> or runtime environment, any system that relies on system configuration stored somewhere can be provisioned with this tool</p> 
  <p>Typical target systems we had in mind when designing the tool are: AEM, AEM Dispatcher, Apache Tomcat and Apache HTTPd.</p> 
  <p>The tool <b>only generates files</b>. Further distribution of these files (e.g. copy to server, deploy via HTTP etc.) is not part of the tool.</p> 
  <p>It is possible to apply this tool only to <b>parts of a systems configuration</b>, e.g. generate only the virtual host definitions of a webserver and maintain the other part of the configuration in other ways</p> 
 </section> 
 <section> 
  <h3 id="Files_that_can_be_generated">Files that can be generated</h3> 
  <p>Examples:</p> 
  <ul> 
   <li>Plain text files e.g. Properties, Scripts, Dispatcher, HTTPd config</li> 
   <li>JSON files</li> 
   <li>XML files</li> 
   <li>OSGi configuration snippets</li> 
   <li>Sling Provisioning Model</li> 
   <li>AEM Content Package containing OSGi configurations</li> 
  </ul> 
  <p>Basically all text-based files types can be generated. And with post processor plugins even binary files.</p> 
  <p>Additionally it is possible to copy/download files from external sources and include them in the configuration process. External sources are e.g. local filesystem, classpath, HTTP/HTTPS URLs or Maven Artifact references.</p> 
 </section> 
 <section> 
  <h3 id="Configuration_meta_model">Configuration meta model</h3> 
  <p><img src="images/configuration-meta-model.png" alt="Configuration meta model"></p> 
  <section> 
   <h4 id="Environments">Environments</h4> 
   <ul> 
    <li><b>Environment</b>: Environment for a specific project or group of projects with a selection of nodes that work together, e.g. “QS”, “Prelive”, “Prod” etc.</li> 
    <li><b>Node</b>: A system to deploy to, e.g. a physical machine, virtual machine, Docker container or any other deployment target. 
     <ul> 
      <li>For each node multiple roles can be assigned</li> 
      <li>For each role one or multiple variants</li> 
     </ul> </li> 
    <li><b>Tenant</b>: List of tenants in the environment and their configuration 
     <ul> 
      <li>For each tenant multiple tenant roles can be assigned</li> 
     </ul> </li> 
    <li><b>Configuration value</b>: Configuration value for a configuration parameter in context of environments, nodes, roles and tenants.</li> 
   </ul> 
  </section> 
  <section> 
   <h4 id="Configuration_definitions">Configuration definitions</h4> 
   <ul> 
    <li><b>Node role</b>: A set of functionality/application part that can be deployed to a node/machine, e.g. “AEM CMS”, “AEM Dispatcher”, “Tomcat Service Layer” 
     <ul> 
      <li><b>Variant</b>: Variants of a role with same deployment artifacts but different configuration; e.g. “Author”, “Publish”, “Importer”.</li> 
      <li><b>Configuration parameter</b>: Definition of configuration parameters that can be set for each environment. The configuration parameter values are merged with the file templates when generating the configuration.</li> 
      <li><b>File</b>: Defines file to be generated for Role/Variant based on a File Template</li> 
     </ul> </li> 
    <li><b>Tenant role</b>: Allows to define features required for a tenant, e.g. Tenant Website with or without special features</li> 
    <li><b>File template</b>: Script-based template the contains static configuration parts and placeholders for the configuration parameter values</li> 
   </ul> 
  </section> 
  <section> 
   <h4 id="Multitenancy">Multitenancy</h4> 
   <ul> 
    <li>Often a single infrastructure environment is used to host applications and websites for multiple tenants (e.g. for multiple markets or different brands)</li> 
    <li>Most of this multi-tenancy aspects are managed outside the system configuration (e.g. in content hierarchy and content pages, context-aware configuration in repository)</li> 
    <li>But in some occasions the system configuration is affected as well, e.g. 
     <ul> 
      <li>One vhost file for each tenant's website in the webserver configuration</li> 
      <li>Short URL Mapping in Dispatcher and AEM for each website</li> 
     </ul> </li> 
    <li>To support this tenants may be defined in each environment, and it is possible to override some of the configuration parameters with tenant-specific values</li> 
    <li>Using the “Tenant Multiply” plugin it is possible to generate multiple configuration files (one per tenant) based on a single file template.</li> 
    <li>Tenants are independent from roles and role variants from the configuration definition. Tenant roles are specific to tenants and allow to express different characteristics of tenants e.g. with or without a specific feature-set.</li> 
   </ul> 
  </section> 
 </section> 
 <section> 
  <h3 id="Exporting_model_data">Exporting model data</h3> 
  <p>By default CONGA exports “model data” for each node to a file “model.yaml”. This file includes expanded configuration, list of generated files and tenants from the current CONGA run. This information can be picked by infrastructure automation tools like Ansible for executing the further development steps.</p> 
  <p>Within the CONGA Maven plugin configuration you can disable this export or switch to different plugins if you need the model data in different formats.</p> 
 </section> 
 <section> 
  <h3 id="Technology_stack">Technology stack</h3> 
  <ul> 
   <li>Implemented in Java 8</li> 
   <li>Definition and Configuration Files in <a class="externalLink" href="http://yaml.org/">YAML 1.1</a></li> 
   <li>Template script language: <a class="externalLink" href="https://github.com/jknack/handlebars.java">Handlebars for Java</a></li> 
   <li>Runnable from <a class="externalLink" href="http://maven.apache.org/">Apache Maven</a> (recommended) or standalone</li> 
  </ul> 
 </section> 
</section>
      </div>
    </div>
    <div class="span4">
      <div id="toc-sidebar">
        <div class="well">
          <ul class="nav nav-list">
            <li class="nav-header">Table of Contents</li>
    <li class="dropdown"><a href="#CONGA_-_General_concepts" title="CONGA - General concepts">CONGA - General concepts <b class="caret"></b></a>
      <ul class="nav nav-list">
    <li><a href="#Targets_System_Configuration" title="Targets System Configuration">Targets System Configuration</a>
    <li><a href="#Supported_Systems" title="Supported Systems">Supported Systems</a>
    <li><a href="#Files_that_can_be_generated" title="Files that can be generated">Files that can be generated</a>
    <li class="dropdown"><a href="#Configuration_meta_model" title="Configuration meta model">Configuration meta model <b class="caret"></b></a>
      <ul class="nav nav-list">
    <li><a href="#Environments" title="Environments">Environments</a>
    <li><a href="#Configuration_definitions" title="Configuration definitions">Configuration definitions</a>
    <li><a href="#Multitenancy" title="Multitenancy">Multitenancy</a>
        <li class="divider"></li>
      </ul>
    </li>
    <li><a href="#Exporting_model_data" title="Exporting model data">Exporting model data</a>
    <li><a href="#Technology_stack" title="Technology stack">Technology stack</a>
        <li class="divider"></li>
      </ul>
    </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
  </div>

  </div>

  <!-- Footer
  ================================================== -->
  <footer class="well">
    <div class="container">
      <div class="row">
        <div class="span2 bottom-nav">
          <ul class="nav nav-list">
            <li class="nav-header">Main</li>
            <li >
              <a href="../" title="Home">Home</a>
            </li>
            <li >
              <a href="../platforms.html" title="Platforms">Platforms</a>
            </li>
            <li >
              <a href="../maven.html" title="Maven Repositories">Maven Repositories</a>
            </li>
            <li >
              <a href="http://github.com/wcm-io-devops" title="GitHub project" class="externalLink">GitHub project</a>
            </li>
            <li >
              <a href="https://wcm.io/subprojects.html" title="Subprojects" class="externalLink">Subprojects</a>
            </li>
            <li >
              <a href="http://www.apache.org/licenses/LICENSE-2.0.txt" title="License" class="externalLink">License</a>
            </li>
            <li >
              <a href="https://wcm.io/commercial-support.html" title="Commercial Support" class="externalLink">Commercial Support</a>
            </li>
            <li >
              <a href="https://diva-e.com/en/imprint/" title="Imprint" class="externalLink">Imprint</a>
            </li>
            <li >
              <a href="https://wcm.io/privacy.html" title="Privacy Policy" class="externalLink">Privacy Policy</a>
            </li>
          </ul>
        </div>
        <div class="span2 bottom-nav">
          <ul class="nav nav-list">
            <li class="nav-header">Categories</li>
            <li >
              <a href="./" title="CONGA - CONfiguration GenerAtor">CONGA - CONfiguration GenerAtor</a>
            </li>
          </ul>
        </div>
        <div class="span2 bottom-nav">
          <ul class="nav nav-list">
            <li class="nav-header">Contribute</li>
            <li >
              <a href="https://wcm.io/contribute.html" title="Contribute" class="externalLink">Contribute</a>
            </li>
            <li >
              <a href="https://github.com/wcm-io-devops" title="Issues" class="externalLink">Issues</a>
            </li>
            <li >
              <a href="https://wcm-io.atlassian.net/wiki/" title="Wiki" class="externalLink">Wiki</a>
            </li>
            <li >
              <a href="https://wcm.io/mailing-lists.html" title="Mailing Lists" class="externalLink">Mailing Lists</a>
            </li>
            <li >
              <a href="http://github.com/wcm-io-devops" title="Fork on GitHub" class="externalLink">Fork on GitHub</a>
            </li>
          </ul>
        </div>
        <div class="span3 bottom-nav">
          <ul class="nav nav-list">
            <li class="nav-header">Maven documentation</li>
            <li >
              <a href="project-info.html" title="Project Information">Project Information <i class="icon-chevron-right"></i></a>
            </li>
            <li >
              <a href="project-reports.html" title="Project Reports">Project Reports <i class="icon-chevron-right"></i></a>
            </li>
          </ul>
        </div>
        <div class="span3 bottom-description">
          <blockquote>wcm.io DevOps is an Open Source project which provides tools for configuration management and deployment.</blockquote>
        </div>
      </div>
    </div>
  </footer>

  <div class="container subfooter">
    <div class="row">
      <div class="span12">
        <p class="pull-right"><a href="#">Back to top</a></p>
        <p class="copyright">Copyright &copy;2015-2024 <a href="https://devops.wcm.io">wcm.io DevOps</a>. All Rights Reserved.</p>
        <p class="version-date"><span class="projectVersion">Version: 1.17.1-SNAPSHOT. </span><span class="publishDate">Last Published: 2024-04-15. </span></p>
      </div>
    </div>
  </div>

  <!-- JavaScript
  ================================================== -->
  <script src="https://devops.wcm.io/js/jquery.min.js"></script>
  <script src="https://devops.wcm.io/js/bootstrap.min.js"></script>
  <script src="https://devops.wcm.io/js/lightbox.min.js"></script>
  <script src="https://devops.wcm.io/js/reflow-scroll.js"></script>
  <script src="https://devops.wcm.io/js/highlight.min.js"></script>


  <script src="https://devops.wcm.io/js/reflow-skin.js"></script>

  </body>
</html>