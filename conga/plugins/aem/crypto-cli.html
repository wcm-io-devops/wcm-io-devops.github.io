<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.11.1 from src/site/markdown/crypto-cli.md.vm at 2022-05-10

 | Rendered using Apache Maven Default Skin
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 1.11.1" />
    <title>CONGA AEM Plugin &#x2013; CONGA AEM Crypto CLI tool</title>
    <link rel="stylesheet" href="./css/maven-base.css" />
    <link rel="stylesheet" href="./css/maven-theme.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
  </head>
  <body class="composite">
    <div id="banner">
<div id="bannerLeft">CONGA AEM Plugin
</div>
<div id="bannerRight"><img src="https://devops.wcm.io/conga/images/conga.png" style="height:120px"/>
</div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
      <div class="xleft">
        <span id="publishDate">Last Published: 2022-05-10</span>
           | <span id="projectVersion">Version: 2.16.3-SNAPSHOT</span>
      </div>
      <div class="xright">      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
      <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
      </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
<section>
<h2><a name="CONGA_AEM_Crypto_CLI_tool"></a>CONGA AEM Crypto CLI tool</h2>
<p>The CONGA AEM plugin also provides a command-line interface tool for generating new AEM crypto keys.</p>
<p>The generated keys are supported by AEM 6.3 and upwards.</p>
<p><i><b>Please note:</b> You need to install the <a class="externalLink" href="http://www.oracle.com/technetwork/java/javase/downloads/jce8-download-2133166.html">Java Cryptography Extension (JCE) Unlimited Strength policy files</a> from Oracle, because Ansible uses 256 bit keys to handle encryption and decryption of the vault files. If you are using Java 8u162 or higher they are already active by default.</i></p><section>
<h3><a name="Download"></a>Download</h3>
<p>Download it from Maven Central:</p>
<table border="0" class="bodyTable">
<thead></thead><tbody>

<tr class="a">
<td align="left"><a class="externalLink" href="https://repo1.maven.org/maven2/io/wcm/devops/conga/plugins/conga-aem-crypto-cli/2.16.2/conga-aem-crypto-cli-2.16.2-dist.zip">CONGA AEM Crypto CLI tool</a></td>
<td><a class="externalLink" href="https://repo1.maven.org/maven2/io/wcm/devops/conga/plugins/conga-aem-crypto-cli/2.16.2/conga-aem-crypto-cli-2.16.2-dist.zip"><img src="https://maven-badges.herokuapp.com/maven-central/io.wcm.devops.conga.plugins/conga-aem-crypto-cli/badge.svg" alt="Maven Central" /></a></td></tr>
</tbody>
</table></section><section>
<h3><a name="Generate_AEM_crypto_keys"></a>Generate AEM crypto keys</h3>
<p>Generate a set of crypto keys:</p>

<div class="source">
<pre><code>java -jar conga-aem-crypto-cli-2.16.2.jar -cryptoKeysGenerate
</code></pre></div>
<p>Generate a set of crypto keys and encrypt them using Ansible Vault with the given password:</p>

<div class="source">
<pre><code>java -Dansible.vault.password=mypassword -jar conga-aem-crypto-cli-2.16.2.jar \
    -cryptoKeysGenerate -cryptoKeysAnsibleVaultEncrypt
</code></pre></div>
<p>Encrypt a file with Ansible Vault:</p>

<div class="source">
<pre><code>java -Dansible.vault.password=mypassword -jar conga-aem-crypto-cli-2.16.2.jar \
    -ansibleVaultEncrypt &lt;file&gt;
</code></pre></div>
<p>Decrypt a file with Ansible Vault:</p>

<div class="source">
<pre><code>java -Dansible.vault.password=mypassword -jar conga-aem-crypto-cli-2.16.2.jar \
    -ansibleVaultDecrypt &lt;file&gt;
</code></pre></div></section><section>
<h3><a name="Encrypt_and_decrypt_values_using_AEM_crypto_support"></a>Encrypt and decrypt values using AEM crypto support</h3>
<p>Encrypt string using AEM crypto support and a given key:</p>

<div class="source">
<pre><code>java -jar conga-aem-crypto-cli-2.16.2.jar \
     -cryptoAesKey &lt;path to master file&gt; -aemCryptoEncrypt &lt;value&gt;
</code></pre></div>
<p>Decrypt string using AEM crypto support and a given key:</p>

<div class="source">
<pre><code>java -jar conga-aem-crypto-cli-2.16.2.jar \
     -cryptoAesKey &lt;path to master file&gt; -aemCryptoDecrypt &lt;encrypted value&gt;
</code></pre></div></section></section>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
        Copyright &#169;      2015&#x2013;2022<a href="https://devops.wcm.io">wcm.io DevOps</a>.
.      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>