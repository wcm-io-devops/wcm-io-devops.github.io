<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.11.1 from src/site/markdown/usage.md at 2022-05-03

 | Rendered using Apache Maven Default Skin
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 1.11.1" />
    <title>CONGA &#x2013; CONGA - Usage</title>
    <link rel="stylesheet" href="./css/maven-base.css" />
    <link rel="stylesheet" href="./css/maven-theme.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
  </head>
  <body class="composite">
    <div id="banner">
<div id="bannerLeft">CONGA
</div>
<div id="bannerRight"><img src="https://devops.wcm.io/conga/images/conga.png" style="height:120px"/>
</div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
      <div class="xleft">
        <span id="publishDate">Last Published: 2022-05-03</span>
           | <span id="projectVersion">Version: 1.14.7-SNAPSHOT</span>
      </div>
      <div class="xright">      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
      <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
      </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
<section>
<h2><a name="CONGA_-_Usage"></a>CONGA - Usage</h2><section>
<h3><a name="Preparations"></a>Preparations</h3>
<p>Make sure you have installed:</p>
<ul>

<li>Java 8 or higher</li>
<li>Apache Maven 3.3 or higher</li>
</ul>
<p>Example project can be found at:
<a class="externalLink" href="https://github.com/wcm-io-devops/conga/tree/develop/tooling/conga-maven-plugin/src/it/example">https://github.com/wcm-io-devops/conga/tree/develop/tooling/conga-maven-plugin/src/it/example</a></p></section><section>
<h3><a name="Definitions"></a>Definitions</h3>
<p>CONGA differentiates between role/template definitions and environment definitions. Although it is possible to put them all together into one single Maven project it is recommended to separate them, because they are usually maintained by separated people, see <a href="general-concepts.html">general concepts</a>.</p>
<p>In this example they are separated, start with building the definitions:</p>

<div class="source">
<pre><code>cd definitions
mvn clean install
</code></pre></div>
<p>This produces an maven artifact <code>io.wcm.devops.conga.example.definitions-1-SNAPSHOT.jar</code> which is installed in the local maven repository as well. It contains role definitions and file templates. It is recommended to deploy it to a central maven repository within your organization.</p>
<p>The role files can be found in <code>src/main/roles</code>, you can also see there what configuration parameters are possible and what are their default values.</p>
<p>The file templates are located at <code>src/main/templates</code> in folders per role. They are written using the <a class="externalLink" href="http://handlebarsjs.com/">Handlebars</a> scripting language.</p></section><section>
<h3><a name="Environments"></a>Environments</h3>
<p>To build the real configuration files switch go to the environments folder:</p>

<div class="source">
<pre><code>cd environments
mvn clean package
</code></pre></div>
<p>This builds all configuration files for all nodes defined in the environment files. The definitions from the previous step are referenced as maven dependency.</p>
<p>You find the generated files at <code>target/configuration</code>, they are packed as well in a ZIP file located at <code>target</code>. Those files can be uploaded to the destination system (ideally in an automated fashion by using a deployment automation tool).</p></section><section>
<h3><a name="Next_steps"></a>Next steps</h3>
<ul>

<li>Read the <a href="general-concepts.html">general concepts</a></li>
<li>Learn about the definition YAML files syntax in <a href="yaml-definitions.html">YAML definitions</a></li>
<li>Get a quickstart introduction to Handlebars: <a href="handlebars-quickstart.html">Handlebars quickstart</a></li>
</ul></section><section>
<h3><a name="Using_from_command_line"></a>Using from command line</h3>
<p>It is possible to use CONGA outside Maven from the command line using this prepackaged JAR with all dependencies:</p>
<table border="0" class="bodyTable">
<thead></thead><tbody>

<tr class="a">
<td align="left"><a class="externalLink" href="https://maven-badges.herokuapp.com/maven-central/io.wcm.devops.conga/io.wcm.devops.conga.tooling.cli">CONGA Command Line Interface</a></td>
<td><a class="externalLink" href="https://maven-badges.herokuapp.com/maven-central/io.wcm.devops.conga/io.wcm.devops.conga.tooling.cli"><img src="https://maven-badges.herokuapp.com/maven-central/io.wcm.devops.conga/io.wcm.devops.conga.tooling.cli/badge.svg" alt="Maven Central" /></a></td></tr>
</tbody>
</table>
<p>This mode lacks some features like building definition artifacts, versioning etc. So it is recommended to use the Maven plugin whenever possible.</p></section></section>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
        Copyright &#169;      2015&#x2013;2022<a href="https://devops.wcm.io">wcm.io DevOps</a>.
.      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>